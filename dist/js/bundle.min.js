function loadScript(e,n){const o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=n,document.head.appendChild(o)}async function getData(){try{const e=await fetch("http://18.221.239.84:5000/get_hash");if(!e.ok)throw new Error(`Response status: ${e.status}`);const n=await e.json();console.log(n)}catch(e){console.error(e.message)}}window.onload=()=>{injectModal(),checkCookie()},loadScript("https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js",(function(){console.log("CDN script loaded successfully!")})),loadScript("https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/md5.js",(function(){console.log("CDN script loaded successfully!")}));const injectModal=()=>{let e=document.querySelector("style");e||(e=document.createElement("style"),document.head.appendChild(e)),e.textContent+="\n        .content-locker-modal {\n            display: block;\n            position: fixed;\n            z-index: 999;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            background-color: rgba(0, 0, 0, 0.7);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .content-locker-modal-content {\n            background-color: #fff;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n            text-align: center;\n        }\n        .content-locker-blurred {\n            filter: blur(8px);\n            pointer-events: none;\n        }\n        .content-locker-hidden {\n            display: none;\n        }\n    ";document.body.insertAdjacentHTML("afterbegin",'\n        <div id="content-locker-modal" class="content-locker-modal">\n            <div class="content-locker-modal-content">\n                <h2>Enter the code to access the course content</h2>\n                <input type="text" id="unlock-code" placeholder="Enter unlock code">\n                <button onclick="checkUnlockCode()">Unlock</button>\n            </div>\n            </div>\n        </div>\n    '),console.log("Modal injected into the DOM")},addBlurredContentClass=()=>{Array.from(document.body.children).forEach((e=>{"content-locker-modal"!==e.id&&e.classList.add("content-locker-blurred")}))},checkUnlockCode=()=>{const e=document.getElementById("unlock-code").value;console.log("enteredCode: "+e);const n=CryptoJS.MD5(e).toString(),o=getData();console.log(n),console.log(o),"unlockme"===n?(document.getElementById("content-locker-modal").classList.add("content-locker-hidden"),Array.from(document.body.children).forEach((e=>{e.classList.remove("content-locker-blurred")})),document.cookie="unlocked=true; path=/; max-age=2592000"):alert("Incorrect code. Please try again.")},checkCookie=()=>{const e=document.cookie.split("; ").find((e=>e.startsWith("unlocked=")));e&&"true"===e.split("=")[1]?(document.getElementById("content-locker-modal").classList.add("content-locker-hidden"),Array.from(document.body.children).forEach((e=>{e.classList.remove("content-locker-blurred")}))):addBlurredContentClass()},authenticateUser=()=>{200==Response.code||(Response.code=404)&&addBlurredContentClass()};